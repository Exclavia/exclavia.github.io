<html>
   <head>
      <title>Exclavia's Gitpage</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="stylesheet.css">
      <link rel="icon" type="image/x-icon" href="https://exclavia.network/favicon.ico">
   </head>
   <body>
      <div class="container">
         <div class="content">
            <div class="topHeader">Git.Exclavia.Network</div>
            <br>
            <div class="subContent">
               <br>
               <div class="repoHead">
                  ExsNetworkScan
               </div>
               <div class="conSpan">
                  <a href="https://test.pypi.org/project/ExsNetworkScan/" target="_blank"><img alt="TestPyPi" src="https://img.shields.io/pypi/status/ExsNetworkScan?pypiBaseUrl=https%3A%2F%2Ftest.pypi.org&style=flat-square&label=TestPyPi"></a>
                  <a href="https://git.exclavia.network/license/" target="_blank"> <img alt="GitHub License" src="https://img.shields.io/github/license/Exclavia/ExsNetworkScan?style=flat-square"></a>
                  <a href="https://git.exclavia.network/ExsNetworkScan" target="_blank"><img alt="Website" src="https://img.shields.io/website?url=https%3A%2F%2Fgit.exclavia.network%2FExsNetworkScan?style=flat-square"></a><br><br>
                  <a href="https://github.com/Exclavia/ExsNetworkScan">Repository</a><br><br>
                  <a href="https://github.com/Exclavia/ExsNetworkScan/commits">Commits</a><br><br>
                  <a href="https://github.com/Exclavia/ExsNetworkScan/issues">Issues</a><br>
                  <br><br>
                  - Master.zip <a href="https://github.com/Exclavia/ExsNetworkScan/archive/refs/heads/master.zip"  target="_blank">download</a>
                  <br>
               </div>
               <br><br>
               <div class="feedHead">
                  TestPyPi recent releases
               </div>
               <div class="conSpan">
                  <div id="feed-container"></div>
                  <script>
                     // Function to fetch RSS feed using Fetch API with a CORS Proxy
                     async function fetchRSSWithProxy(proxyUrl, rssUrl) {
                         try {
                             const response = await fetch(`${proxyUrl}${encodeURIComponent(rssUrl)}`);
                             if (!response.ok) {
                                 throw new Error(`HTTP error! status: ${response.status}`);
                             }
                             const data = await response.json();
                             return data.contents; // Access the RSS data
                         } catch (error) {
                             console.error('Error fetching RSS feed through proxy:', error);
                         }
                     }
                     
                     // Function to parse RSS feed using DOMParser
                     function parseRSS(rssText) {
                         const parser = new DOMParser();
                         const xmlDoc = parser.parseFromString(rssText, 'application/xml');
                         return xmlDoc;
                     }
                     
                     // Function to extract items from the parsed XML
                     function extractFeedItems(xmlDoc) {
                         const items = xmlDoc.getElementsByTagName('item');
                         const feedItems = [];
                     
                         for (let i = 0; i < items.length; i++) {
                             const title = items[i].getElementsByTagName('title')[0].textContent;
                             const link = items[i].getElementsByTagName('link')[0].textContent;
                             const pubDate = items[i].getElementsByTagName('pubDate')[0]?.textContent;
                             feedItems.push({ title, link, pubDate });
                         }
                     
                         return feedItems;
                     }
                     
                     // Function to display feed items in HTML
                     function displayFeedItems(feedItems) {
                         const container = document.getElementById('feed-container');
                         container.innerHTML = feedItems
                             .map(
                                 (item) => `
                                 <div class="feed-item">
                                     <h3><a href="${item.link}" target="_blank">${item.title}</a></h3>
                                     <p>${item.pubDate}</p>
                                 </div>
                             `
                             )
                             .join('');
                     }
                     
                     // Fetch, parse, and display RSS feed
                     const proxyUrl = 'https://api.allorigins.win/get?url='; // Public CORS proxy
                     const rssUrl = 'https://test.pypi.org/rss/project/exsnetworkscan/releases.xml'; // BBC News RSS Feed
                     fetchRSSWithProxy(proxyUrl, rssUrl).then((rssText) => {
                         const xmlDoc = parseRSS(rssText);
                         const feedItems = extractFeedItems(xmlDoc);
                         displayFeedItems(feedItems);
                     });
                  </script>
               </div>
               <br>
            </div>
            <div class="foot"><i>Exclavia Network - 2024 - <a href="https://github.com/Exclavia" target="_blank">GitHub</a> - <a href="https://exclavia.network/" target="_blank">Main</a></i></div>
         </div>
      </div>
   </body>
</html>
